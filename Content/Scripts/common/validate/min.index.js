/*! samplefrontwork 2017-01-06 09:01:22:ff * /
"use strict";var FormValidate=function(){function a(){for(var a=$("form"),d=a.length-1;d>=0;d--)for(var e=a[d],f=$("*[data-jvalidate]",e),g=f.length-1;g>=0;g--){var h=$(f[g]);if(h){var i=h.data().jvalidate;if(i){var j=i.split("||");if(j&&0!==j.length)for(var k=j.length-1;k>=0;k--){var l=j[k],m=Tools.errorTypeConfig[l];if(m&&m.BindingEventTypes&&m.Regs)for(var n=0;n<m.BindingEventTypes.length;n++){var o=m.BindingEventTypes[n];if(!o)return;!function(a,d,e){d.on(e,function(){switch(e){case Tools.eventTypes.Blur:b(d,a);break;case Tools.eventTypes.KeyUp:c(d,a);break;default:b(d,a)}})}(m,h,o)}}}}}}function b(a,b){if(a){var c=a.val().replace(Tools.regConfigs.Trim,""),d=a.next();if(""===c)return void k(d);var e=a.data().jvalidateBefore;if(!e||!j($(e))){var g=void 0===$(e).val()?"":$(e).val().replace(Tools.regConfigs.Trim,""),h=f(c,b.Regs,b.RegsAnd,g);h?k(d):(k(d),Tools.showError(a,b));var i=a.data().jvalidateUrl;h&&i&&(i=i+"?data="+c,Tools.post(i,{},function(a){a&&a.ErrorCode&&"Success"!=a.ErrorCode&&Tools.showTip(a.ErrorCode)}))}}}function c(a,b){if(a)return a.data().controlPwdstrong?void d(a,b):void e(a,b)}function d(a,b){var c=a.data().showContainer;if(c){var d=$(c),e=a.val().replace(Tools.regConfigs.Trim,""),g=$(".level",d);if(g.removeClass("on"),!Tools.regConfigs.PwdStrongLevel0.test(e)){var h=f(e,b.Regs,b.RegsAnd);if(h)return Tools.regConfigs.PwdStrongLevel2.test(e)||Tools.regConfigs.PwdStrongLevel2_1.test(e)?void g.slice(0,3).addClass("on"):Tools.regConfigs.PwdStrongLevel1.test(e)||Tools.regConfigs.PwdStrongLevel1_1.test(e)?void g.slice(0,2).addClass("on"):void g.slice(0,1).addClass("on")}}}function e(a,b){var c=a.next();k(c);var d=a.attr("data-error");if(d&&0!==d.length&&d==b.Key){var e=a.attr("data-target");if(e&&void 0!==e){var f=$(e);f&&f.attr("data-error")==a.attr("data-error")&&k(f.next())}}}function f(a,b,c,d){var e=!1;if(!b||0===b.length)return!0;for(var f=b.length-1;f>=0;f--){var g=b[f];if(c){if(g===Tools.regConfigs.Empty){if(g.test(a)){e=!1;break}e=!0;continue}if(g===Tools.regConfigs.Equal){if(a!=d){e=!1;break}e=!0;continue}if(g.test(a)){e=!0;continue}e=!1;break}if(g===Tools.regConfigs.Empty){if(g.test(a)&&!e)continue;e=!0;break}if(g!==Tools.regConfigs.Equal){if(g.test(a)||e){e=!0;break}}else if(a==d||e){e=!0;break}}return e}function g(a){var b=this,c=0;if(!b)return console.log("需要验证的表单id不能为空！"),!0;var d=b.attr("data-jvalidate");if(!d)return!0;var e=d.split("||");if(!e||0===e.length)return!0;for(var g=e.length-1;g>=0;g--){var h=Tools.errorTypeConfig[e[g]];if(h&&h.Commit&&h.Regs&&!i(b)){var j=b.val().replace(Tools.regConfigs.Trim,""),l=f(j,h.Regs,h.RegsAnd);if(!l){c++;b.next();k(b.next()),Tools.showError(b,h)}}}return c>0&&a&&b.focus(),0===c}function h(){var a=this;if(!a)return console.log("需要验证的表单id不能为空！"),!0;for(var b,c=0,d=$("[data-jvalidate]",a),e=0;e<d.length;e++){var g=$(d[e]),h=!0,l=g.attr("data-jvalidate");if(l){var m=l.split("||");if(m&&0!==m.length)for(var n=m.length-1;n>=0;n--){var o=Tools.errorTypeConfig[m[n]];if(o&&o.Commit&&o.Regs&&!i(g)){var p=g.data().jvalidateBefore;if(p&&j($(p)))break;var q=g.val().replace(Tools.regConfigs.Trim,""),r=void 0===$(p).val()?"":$(p).val().replace(Tools.regConfigs.Trim,"");if(h=f(q,o.Regs,o.RegsAnd,r),!h){!b&&g.data().errorFocus&&(b=g),c++;g.next();k(g.next()),Tools.showError(g,o);break}k(g.next())}}}}return b&&b.trigger("focus"),0===c}function i(a,b){if(void 0===a||0===a.length)return!1;if(a.hasClass("hide")||"none"===a.css("display"))return!0;if(b)return!1;if(a.is("form"))return void i(a.parent(),!0);var c=a.parent();i(c)}function j(a){return a.parent().find(".error-wrap").length>0}function k(a){a.hasClass("error-wrap")&&a.remove();var b=a.next();b.length>=1&&k(b)}return{validate:h,init:function(){$.prototype.validateForm=FormValidate.validate,$.prototype.validateInput=g,$(function(){a()})},tip:function(a,b,c,d){Tools.showTip(a,b,c,d)}}}();FormValidate.init();